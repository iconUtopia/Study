# React 面向组件编程

## 函数式组件

函数式组件适用于**简单组件**的定义，简单组件就是指该组件没有状态（state）

### 创建函数式组件

接收唯一带有数据的 `props`（代表属性）对象与并返回一个 React 元素。这类组件被称为**函数组件**，因为它本质上就是 JavaScript 函数。

```js
function FunctionComponent(props) {
  return <h1>Hello,{props.name}</h1>;
}
```

### 渲染函数组件

当 React 元素为用户自定义组件时，它会将 JSX 所接收的**属性（attributes**）以及**子组件（children）**转换为单个对象传递给组件，这个对象被称之为 `props`。

```js
React.render(<FunctionComponent name="Sara" />, document.getElementById("xx"));
```

#### 执行 `React.render()` 发生了什么

1. React 解析组件标签，找到了 `FunctionComponent` 组件
2. 发现组件是使用函数定义的，随后调用该函数，将并返回的虚拟 DOM 转为真实 DOM，随后呈现哎页面中

---

## 类式组件

类式组件适用于**复杂组件**的定义，复杂组件就是指该组件拥有状态（state）

### 创建类式组件

```js
class ClassComponent extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}
```

### 渲染类组件

```js
React.render(<ClassComponent name="Sara" />, document.getElementById("xx"));
```

#### 执行 `React.render()` 发生了什么

1. React 解析组件标签，找到了 `ClassComponent` 组件；
2. 发现组件是使用类定义的，随后创建该类的实例，并通过该实例调用原型上的 `render()` 方法；
3. 将 `render()` 返回的虚拟 DOM 转为真实 DOM，随后呈现在页面中

### 复杂组件的三大核心属性

- state
- props
- refs

#### state

- state 是组件对象最重要的属性，值是对象（可以包含多个 key-vale 的组合）
- 组件被称为**状态机**，通过更新组件的 state 来更新对应的页面显示（重新渲染组件）

###### 注意：

1. 组建中 `render()` 方法的 `this` 为组件实例对象
2. 组建自定义的方法中 `this` 为 `undefined`，如何解决？
   1. 强制改变 `this` 指向
   2. 箭头函数
3. 状态数据，不能直接修改或更新

#### props

#### refs
